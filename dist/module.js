/*! For license information please see module.js.LICENSE.txt */
define(["d3","react","@grafana/data","emotion","@grafana/ui"],(function(e,t,a,n,r){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=5)}([function(t,a){t.exports=e},function(e,a){e.exports=t},function(e,t){e.exports=a},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,a){"use strict";a.r(t);var n=a(2);function r(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,l=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=l.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return o}function l(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var o,i,c,s=a(1),u=a.n(s),f=a(3),d=a(4),m=a(0),p=function(e){var t=[];switch(e){case"plasma":t=["#0d0887","#5302a3","#8b0aa5","#b83289","#db5c68","#f48849","#febd2a","#f0f921"];break;case"turbo":t=["#23171b","#4076f5","#26d0cd","#5ffc73","#cbe839","#ff9b21","#d6390f","#900c00"];break;case"warm":t=["#6e40aa","#a83cb3","#df40a1","#ff507a","#ff704e","#f89b31","#d2c934","#aff05b"];break;case"spectral":t=["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"]}return t},b=function(e,t){return 0===e&&"logarithmic"===t?1e-6:e},g=function(e){return"linear"===e?m.scaleLinear:m.scaleLog},v=function(e,t,a){var n;return n="bottom"===e?m.axisBottom(t):m.axisLeft(t),"logarithmic"===a&&(n=n.ticks(10,"~s")),n},h=function(e){var t=[],a=[];return e.forEach((function(e){var r=e.fields.find((function(e){return e.type===n.FieldType.number})),l=e.fields.find((function(e){return e.type===n.FieldType.time}));r&&l&&(t.push(r.values.toArray()),a.push(l.values.toArray()))})),[t,a]},x=Object(d.stylesFactory)((function(){return{wrapper:Object(f.css)(i||(i=l(["\n      position: relative;\n    "],["\n      position: relative;\n    "]))),svg:Object(f.css)(c||(c=l(["\n      position: absolute;\n      top: 0;\n      left: 0;\n    "],["\n      position: absolute;\n      top: 0;\n      left: 0;\n    "])))}}));a.d(t,"plugin",(function(){return y}));var y=new n.PanelPlugin((function(e){var t,a,n=e.options,i=e.data,c=e.width,s=e.height,d=x(),y=n.circleRadius,w=[];t=r(h(i.series),2),w=t[0],a=t[1];var O=50,j=30,M=50,S=c-(O+30),E=s-(j+M),P=w.length>1?m.min(w[0]):0,L=w.length>1?m.max(w[0]):100,R=g(n.scaleModeX)().domain([b(P,n.scaleModeX),L]).range([0,S]).clamp(!0).nice(),k=v("bottom",R,n.scaleModeX),X=w.length>1?m.min(w[1]):0,_=w.length>1?m.max(w[1]):100,N=g(n.scaleModeY)().domain([b(X,n.scaleModeY),_]).range([E,0]).clamp(!0),T=v("left",N,n.scaleModeY),Y=a.length>1?m.min(a[0]):0,A=a.length>1?m.max(a[0]):100,V=m.scaleQuantize().range(p(n.colorRange)).domain([Y,A]),F=w.length>1&&a.length>1;return u.a.createElement("div",{className:Object(f.cx)(d.wrapper,Object(f.css)(o||(o=l(["\n          width: ","px;\n          height: ","px;\n        "],["\n          width: ","px;\n          height: ","px;\n        "])),c,s))},u.a.createElement("svg",{className:d.svg,width:c,height:s,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 "+c+" "+s},u.a.createElement("g",{transform:"translate("+O+", "+j+")"},u.a.createElement("g",null,F?w[0].map((function(e,t){return u.a.createElement("circle",{key:"circle-"+t,transform:"translate("+R(e)+", "+N(w[1][t])+")",style:{fill:""+V(a[0][t])},"data-values":e+", "+w[1][t],r:y})})):u.a.createElement("text",{transform:"translate("+(S/2-20)+", "+(E/2-20)+")"},"No data")),u.a.createElement("g",{transform:"translate(0, "+E+")",ref:function(e){m.select(e).call(k)}}),u.a.createElement("text",{className:"axisLabel",transform:"translate("+S/2+", "+(E+M-10)+")"},i.series.length>1?i.series[0].name:""),u.a.createElement("g",{ref:function(e){m.select(e).call(T)}}),u.a.createElement("text",{className:"axisLabel",transform:"rotate(-90), translate("+-E/2+", "+-(O-10)+")"},i.series.length>1?i.series[1].name:""))))})).setPanelOptions((function(e){return e.addSelect({path:"colorRange",defaultValue:"warm",name:"Color Range",settings:{options:[{value:"plasma",label:"Plasma"},{value:"spectral",label:"Spectral"},{value:"turbo",label:"Turbo"},{value:"warm",label:"Warm"}]}}).addSelect({path:"circleRadius",defaultValue:"1",name:"Circle Radius",settings:{options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"}]}}).addRadio({path:"scaleModeX",defaultValue:"linear",name:"X-Axis: Scale Mode",settings:{options:[{value:"linear",label:"Linear"},{value:"logarithmic",label:"Logarithmic"}]}}).addRadio({path:"scaleModeY",defaultValue:"linear",name:"Y-Axis: Scale Mode",settings:{options:[{value:"linear",label:"Linear"},{value:"logarithmic",label:"Logarithmic"}]}})}))}])}));
//# sourceMappingURL=module.js.map